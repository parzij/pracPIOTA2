#  ДЗ-2 Реализация и анализ примитивно-рекурсивной функции

**Вариант:** 2.10  
**Базовые функции:**

$\begin{cases} g(x) = x \\\ h(x, y, z) = x + y \end{cases}$
## 1. Постановка задачи

Требуется с использованием заданных базовых функций $g$ и $h$:

1. Сформулировать задачу на построение частично-рекурсивной (или примитивно-рекурсивной) функции по схеме рекурсии.
2. Определить аналитическую формулу полученной рекурсивной функции.
3. Подобрать примеры для проверки корректности работы функции.
4. Реализовать программу, демонстрирующую работу построенной функции.
5. Продемонстрировать корректность выполнения программы (скриншоты и вывод).
6. Оформить отчёт согласно заданным требованиям.

## 2. Схема рекурсии

В качестве иллюстрации рассмотрим задачу построения некоторой функции $F(n, m)$ (или $F(n)$, в зависимости от варианта и формулировки) по схеме примитивной рекурсии:

1. **Базис рекурсии**:
	$F(0, m) = g(m) = m$ 
   (или другая подходящая форма в зависимости от конкретной постановки задачи; здесь взята за основу функция \(g(x)\)).

2. **Шаг рекурсии**:
  $F(n+1, m) = h(n, F(n, m), m) = (n) + bigl(F(n, m)\bigr),\quad \text{где} \quad( h(x, y, z) = x + y)$.

> **Примечание:** точная формулировка вашей функции зависит от вашего варианта задания. Здесь приведён типовой пример, как может выглядеть схема примитивной рекурсии с данными $g$ и $h$. В вашем отчёте следует адаптировать схему к требуемой задаче.

## 3. Аналитическая формула

**Найти функцию** $f(x_1, x_2)$, полученную из функций

$g(x) = x \quad \text{и} \quad h(x,y,z) = x + y$

по схеме *примитивной рекурсии*.

---
### 1. Схема примитивной рекурсии

Пусть мы строим функцию $f$ от двух аргументов $( x_1 )$ и $( x_2 )$, используя следующие правила:

1. **База рекурсии**:
   $f(0, x_2) = g(x_2) = x_2.$

2. **Шаг рекурсии**:
   $f(y+1, x_2) = h(y, f(y, x_2), x_2) = y + f(y, x_2).$

Другими словами, при каждом увеличении аргумента $x_1$ на 1, новое значение функции получается путём прибавления текущего «шага» $y$ к предыдущему результату $f(y, x_2).$

---
### 2. Вычисление функции пошагово

Пусть $x_2$ — произвольная переменная. Посчитаем $f(y, x_2)$ для нескольких значений $y$.

1. При $( y = 0 )$:
   $f(0, x_2) = g(x_2) = x_2.$

2. При $( y = 1 )$:
   $f(1, x_2) = h(0, f(0, x_2), x_2) = 0 + x_2 = x_2.$

3. При $( y = 2 )$:
   $f(2, x_2) = h(1, f(1, x_2), x_2) = 1 + x_2 = x_2 + 1.$

4. При $( y = 3 )$:
   $f(3, x_2) = h(2, f(2, x_2), x_2) = 2 + (x_2 + 1) = x_2 + 3.$

5. При $( y = 4 )$:
   $f(4, x_2) = h(3, f(3, x_2), x_2) = 3 + (x_2 + 3) = x_2 + 6.$

6. При $( y = 5 )$:
   $f(5, x_2) = h(4, f(4, x_2), x_2) = 4 + (x_2 + 6) = x_2 + 10.$

Замечаем, что «прирост» при каждом шаге равен индексу $y$, и сумма индексов от $0$ до $( y-1 )$ равна

$0 + 1 + 2 + \dots + (y-1) = \frac{y(y-1)}{2}.$

Таким образом, результирующая функция после $y$ шагов имеет вид:

$f(y, x_2) = x_2 + \frac{y(y-1)}{2}.$

Заменяя $y$ на $x_1$ то есть рассматривая общее обозначение $f(x_1, x_2)$, получаем:

$f(x_1, x_2) = x_2 + \frac{x_1(x_1 - 1)}{2}.$

---
### 3. Проверка полученной формулы

Рассмотрим два примера:
#### 3.1. Проверка при $(x_1 = 3) \quad и \quad(x_2 = 2)$

**По схеме рекурсии**:
1. $f(0, 2) = 2$.
2. $f(1, 2) = 0 + 2 = 2$.
3. $f(2, 2) = 1 + 2 = 3$.
4. $f(3, 2) = 2 + 3 = 5$.

Итого, $f(3, 2) = 5$.

**По аналитической формуле**:
$f(3, 2) = 2 + \frac{3 \cdot (3 - 1)}{2} = 2 + \frac{3 \cdot 2}{2} = 2 + 3 = 5.$

Оба результата совпадают: $5$.

---
#### 3.2. Проверка при $( x_1 = 3 )\quad и \quad( x_2 = 0 )$

**По схеме рекурсии**:
1. $f(0, 0) = 0$.
2. $f(1, 0) = 0 + 0 = 0$.
3. $f(2, 0) = 1 + 0 = 1$.
4. $f(3, 0) = 2 + 1 = 3$.

Итого, $f(3, 0) = 3$.

**По аналитической формуле**:

$f(3, 0) = 0 + \frac{3 \cdot (3 - 1)}{2}  = 0 + \frac{3 \cdot 2}{2} = 3.$

Результат тот же: $3.$

---
### 4. Итоговое замечание

В результате применения схемы примитивной рекурсии к базовым функциям 
$g(x) = x, \quad h(x,y,z) = x + y$

мы получили функцию

$\boxed{f(x_1, x_2) = x_2 + \frac{x_1 \,\bigl(x_1 - 1\bigr)}{2},}$

которая корректно рассчитывается как рекурсивно, так и по аналитической формуле. 

## 4. Примеры и их реализация

Чтобы продемонстрировать корректность работы функции, нужно:
1. Выбрать несколько осмысленных примеров входных данных (значений $( n, m )$ или других аргументов).
2. Для каждого примера:
   - Рассчитать значение функции «вручную» (по рекурсии или используя аналитическую формулу).
   - Получить результат из программы.
   - Сравнить результаты.

Пример (условный):
1. $( n = 0, m = 5 )$  
   Ручной расчёт: $( F(0, 5) = 5 )$  
   Программа: результат тот же.
2. $( n = 3, m = 2 )$  
   Ручной расчёт (по рекурсии или формуле).  
   Программа: результат совпал.

**Важно**: чем разнообразнее примеры (включая крайние случаи — например, $( n=0 )$, большие $( n )$, отрицательные значения, если применимо), тем лучше демонстрируется корректность функции.

## 5. Корректность работы программы

Пример кода на с++:

```cpp
/*************************************************************
 * ДЗ-2 Примитивная рекурсия (Вариант 2.10)
 *
 * Студент: Батычков Вячеслав Геннадьевич, Группа: КТбо1-7
 *
 * Программа: Реализует вычисление функции f(n, x),
 * полученной из базовых функций:
 *   g(x) = x
 *   h(x, y, z) = x + y
 * по схеме примитивной рекурсии.
 *
 * Используются два способа:
 * 1) Рекурсивное определение (recurFunc).
 * 2) Аналитическая формула (analiticFunc).
 *************************************************************/
 
#include <iostream>
#include <clocale>
#include <windows.h>

using namespace std;
  
// Примитивно-рекурсивная реализация функции F(n, x)
// Ввод: шаг рекурсии и параметр
// Вывод: занчение примитивно-рекурсивной функции
int recurFunc(int, int);

// Аналитическая формула F(n, x) = x + (n * (n - 1)) / 2
// Ввод: шаг и параметр
// Вывод: значние по аналитической функции
int analiticFunc(int, int);

int main() {
    SetConsoleOutputCP(1251);
    SetConsoleCP(1251);      
    setlocale(LC_ALL, "Russian");

    int n, x;
    wcout << L"Введите n: ";
    cin >> n;
    wcout << L"Введите x: ";
    cin >> x;

    int recurResult = recurFunc(n, x);
    int analiticResult = analiticFunc(n, x);

    wcout << L"f(" << n << L", " << x << L") по рекурсии = " << recurResult << endl;
    wcout << L"f(" << n << L", " << x << L") по аналитической формуле = " << analiticResult << endl;

    (recurResult == analiticResult) ? wcout << L"YES" : wcout << L"NO";
    wcout << endl;
    return 0;
}

int recurFunc(int n, int x) {
    return (n == 0) ? x : ((n - 1) + recurFunc(n - 1, x));
}

int analiticFunc(int n, int x) {
    return x + (n * (n - 1)) / 2;
}

